<!DOCTYPE html>
<html lang="ja">
<head>
  <title>Ventus Wallet(ã‚¦ã‚§ãƒ³ã‚¿ã‚¹ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ)</title>
  <link rel="stylesheet" href="./css/BGimg_ventus.css" type="text/css" media="all" id="switchCSS" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css" type="text/css">
  <meta http-equiv="content-type" charset="UTF-8">
  <!-- <meta name="viewport" content="width=device-width,initial-scale=1"> -->
   
  <script src="js/jquery-3.6.3.min.js"></script>
  <script src="js/js.cookie.js"></script>
  <script>
    // CSSã®URLã‚’å®šç¾©
    var defaulturl= './css/BGimg_ventus.css'
    var cyberpunkurl= './css/BGimg_cyberpunk.css';
    var seaurl= './css/BGimg_sea.css';
// ç”»é¢è¡¨ç¤ºæ™‚ã®CSSã®èª­ã¿è¾¼ã¿è¨­å®š
    $(document).ready(
        function() {
            if (!Cookies.get('cookieCSS')) {
                // ã‚¯ãƒƒã‚­ãƒ¼æœªç™»éŒ²ã§ã‚ã‚Œã°ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆé¸æŠ
                    $("#selectCSS").val("ventus");
            } else if (Cookies.get('cookieCSS') == 'ventus') {
                // ã‚¯ãƒƒã‚­ãƒ¼ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆç™»éŒ²ã§ã‚ã‚Œã°ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆé¸æŠ
                    $("#selectCSS").val("ventus");
                // defaultCSSã‚’èª­ã¿è¾¼ã‚€
                    $("#switchCSS").attr("href" , defaulturl);
            } else if (Cookies.get('cookieCSS') == 'cyberpunk') {
                    $("#selectCSS").val("cyberpunk");
                    $("#switchCSS").attr("href" , cyberpunkurl);
            } else if (Cookies.get('cookieCSS') == 'sea') {
                    $("#selectCSS").val("sea");
                    $("#switchCSS").attr("href" , seaurl);
            }
        }
    );
// ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹æ“ä½œæ™‚ã®è¨­å®š
    $(function(){
        $('#selectCSS').change(function(){
            // ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ã®valueã‚’å–å¾—
                var val = $(this).val();
            // valueã«ã‚ˆã£ã¦èª­ã¿è¾¼ã‚€CSSã‚’å¤‰æ›´ã™ã‚‹
                if (val == "ventus") {
                    cssurl = defaulturl;
                } else if (val == "cyberpunk") {
                    cssurl = cyberpunkurl;
                } else if  (val == "sea") {
                     cssurl = seaurl;
                }         
            // é¸æŠçµæœã‚’ã‚¯ãƒƒã‚­ãƒ¼ã«ç™»éŒ²ã™ã‚‹
                Cookies.set('cookieCSS', val);
            // CSSã‚’èª­ã¿è¾¼ã‚€
                $("#switchCSS").attr("href" , cssurl);
        });
    });     
  </script>
</head>
<body> 
  
  <div class="SSS_link">
       <a href="./Terms_of_use.html" target="_blank">åˆ©ç”¨è¦ç´„</a>
       <a href="https://note.com/mikun_nem/n/n5c21f4af8930/" target="_blank">/ ä½¿ã„æ–¹</a>
       <div style="display: inline-block; _display: inline;" id="explorer"></div>
       <a href="https://docs.sss-symbol.com/ja/" target="_blank">/ SSS_Extension /</a>
       <a href="https://note.com/mahorobart/n/nd5f226887c2a" target="_blank">Ventusã«ã¤ã„ã¦</a>
       <a href="https://github.com/mikunNEM/Ventus_Wallet" target="_blank">/ GitHub </a> 
       <a href="https://symbol-community.com" target="_blank">/ Symbol_Community_Web /</a>
       <select id="selectCSS">
           <option value="ventus">Ventus</option>
           <option value="cyberpunk">CyberPunk</option>
           <option value="sea">Sea</option>
ã€€     </select>
  </div> 
  
  <h1>Ventus Wallet</h1>
  <h3><div id="netType"></div></h3>  
  <div class="wrapper">
      <div class="left">
        <div class="account-card">
            <h2>Account Info</h2>
            <hr>
          <div class="container" style="color:#2f4f4f">   
            <div id="wallet-addr"></div>
          </div>
          <div class="container" style="color:blue;">
            <div id="wallet-xym"></div>
          </div>
        </div>
        
        <div class="sender-card">
          <h2>Send</h2>
          <hr>
          <a href="https://bit.ly/41uG3VR" target="_blank"><p style="text-align:right"><b>ğŸ“–SYMBOLã‚¿ã‚¦ãƒ³ãƒªã‚¹ãƒˆã€€</b></p></a>
          <div class="textfiled-wrapper">
            <div>å®›ã€€ã€€å…ˆã€€(To:)</div>
            <input type="text" id="form-addr" class="textfiled" />
          </div>
          
          <div class="textfiled-wrapper">
            <div>ãƒ¢ã‚¶ã‚¤ã‚¯ã€€(Mosaic)</div>
            <select id="form-mosaic_ID" name="form-mosaic_ID" class="textfiled"></select>         <!--   ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹     -->
          </div>
          
          <div class="textfiled-wrapper">
            <div>æ•°ã€€ã€€é‡ã€€(Amount)</div>
            <input type="text" id="form-amount" class="textfiled" style="line-height:1"/>
          </div>
        
          <div class="textfiled-wrapper">
            <div>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸(Message)</div>
            <input type="text" id="form-message" class="textfiled" style="line-height:3"/>
          </div>  
        
          <div class="textfiled-wrapper">
            <div></div>
            <select id="form-enc">
            <option value="0">Plain messageã€€ã€€ã€€(å¹³æ–‡)</option>
            <option value="1">Encrypted message (æš—å·åŒ–)</option>       
            </select>
          </div>
          
          <div class="textfiled-wrapper">
            <div>æœ€å¤§æ‰‹æ•°æ–™ / maxFee / aggregateTx (x20)</div>
            <select id="form-maxfee">
              <option value="0.02">0.02 xym (slow)</option>
              <option value="0.04">0.04 xym</option>
              <option value="0.07">0.07 xym</option>
              <option value="0.10"> 0.10 xym (fast)</option>
            </select>
          </div> 
   
         <label>
             <input type="file" id="upload-file">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ(.csv)       <!-- address ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ --> 
         </label>
         <div style="display: inline-block; _display: inline;"> 
           <p1>é¸æŠã•ã‚Œã¦ã„ã¾ã›ã‚“</p1>
         </div>
          <script>           
              const input = document.getElementById('upload-file');
              //FileReaderã®å®šç¾©
              const reader = new FileReader();
              let address1 = [];
              let address2 = [];
              let file;
              // é¸æŠã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å‡ºåŠ›ã™ã‚‹
                       $('input').on('change', function () {
                          let file = $(this).prop('files')[0];
                          $('p1').text(file.name);
                          address1.length = 0;
                          address2.length = 0; 
                       });
                        
              input.addEventListener('change', (e) => {
                  const file1 = e.target.files[0];
                  console.log("file1=",file1);
                    if (typeof file1 === "undefined"){
                       address1.length = 0;
                       address2.length = 0; // ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠãŒå–ã‚Šæ¶ˆã•ã‚ŒãŸå ´åˆã€é…åˆ—ã‚’å‰Šé™¤
                       $('p1').text("é¸æŠã•ã‚Œã¦ã„ã¾ã›ã‚“"); 
                       file = file1;
                    }
                
                  //ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¨®é¡ã‚’çµã‚‹
                  if (file1.type === 'text/csv') {                    ã€€                   
                     reader.onload = () => {
                       //console.log(reader.result);
                       address2 = reader.result.split(/\r\n|\n/);   //splitã§æ”¹è¡Œã”ã¨ã«é…åˆ—åŒ–
                       
                        for (let i = 0; i < address2.length; ++i) {  
                             let cells = address2[i].split(",");    //ã‚«ãƒ³ãƒã”ã¨ã«é…åˆ—åŒ– (åå‰ã¨ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’åˆ†ã‘ã‚‹)
                             address1[i] = cells[1];                //ã‚¢ãƒ‰ãƒ¬ã‚¹ã ã‘ã‚’æ ¼ç´
                       }
                       
                       console.log("address1=",address1);
                     }
                     reader.readAsText(file1);
                  }
              });        
          </script>
         
          <div id="button-haichi">
             <input type="button" onclick="handleSSS();" value="Send" class="button-sign"/>
          </div>                    
        </div>
    
         <div id="version"></div>
         
      </div>
      <div class="right">
        <div class="tx-card">
          <h2>Tx History</h2>        
            
            <div style="text-align: right">
            <div style="display: inline-block; _display: inline;">Page:</div>
              
              <select id="page_num1" onchange="select_Page();">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select> 
            </div> 
     
          <hr>
          <div id="wallet-transactions"></div>   <!--  ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å±¥æ­´   --> 
                   
        </div>
      </div>
  </div>

ã€€ <div id="popup" class="popup">
    <div class="popup-inner">
      <div class="img"><img src="unicorn2.gif" alt="ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»åƒ"></div>
    </div><!-- .popup-inner -->
    <div id="bg-black" class="bg-black"></div>
  </div><!-- #popup -->
 
  <script type="text/javascript" src="https://xembook.github.io/nem2-browserify/symbol-sdk-pack-2.0.3.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>
  <script type="text/javascript" src="script.js"></script>
</body>
</html>
