<!DOCTYPE html>
<html>

<head>
  <title>Peer Node List</title>
  <style>
    body {
      margin-left: 40px;
    }

    /* ãƒ†ãƒ¼ãƒ–ãƒ«å…¨ä½“ã®æ ç·šã‚¹ã‚¿ã‚¤ãƒ« */
    table {
      border-collapse: collapse;
      width: 1800px;
      table-layout: fixed;
      /* åˆ—ã®å¹…ã‚’å›ºå®šã™ã‚‹ */
    }

    /* ãƒ˜ãƒƒãƒ€è¡Œã®ã‚¹ã‚¿ã‚¤ãƒ« */
    th {
      background-color: #fde8bf;
      text-align: left;
      white-space: nowrap;
      /* ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ˜ã‚Šè¿”ã•ãªã„ */
      /*overflow: hidden;*/
      text-overflow: ellipsis;
    }

    /* ã‚»ãƒ«ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    th,
    td {
      border: 1px solid #000;
      padding: 8px;
      white-space: normal;
      /* ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ˜ã‚Šè¿”ã™ */
      /* overflow: hidden;*/
      text-overflow: ellipsis;
    }

    /* é€šã—ç•ªå·ã‚»ãƒ«ã‚’å³å¯„ã›ã«è¨­å®š */
    td.row-number {
      text-align: right;
    }

    /* åˆ—ã®å¹…ã‚’å›ºå®š */
    td.col-1,
    th.col-1 {
      width: 2%;
      max-width: 2%;
      text-align: center;
      /* ä¸­å¤®é…ç½® */
    }

    td.col-2,
    th.col-2 {
      width: 18%;
      max-width: 18%;
      text-align: center;
      /* ä¸­å¤®é…ç½® */
    }

    td.col-3,
    th.col-3 {
      width: 15%;
      max-width: 15%;
      text-align: center;
      /* ä¸­å¤®é…ç½® */
    }

    td.col-4,
    th.col-4 {
      width: 10%;
      max-width: 10%;
      text-align: center;
      /* ä¸­å¤®é…ç½® */
    }

    td.col-5,
    th.col-5 {
      width: 5%;
      max-width: 5%;
      text-align: center;
      /* ä¸­å¤®é…ç½® */
    }

    td.col-6,
    th.col-6 {
      width: 50%;
      max-width: 50%;
      text-align: center;
      /* ä¸­å¤®é…ç½® */
    }

    .aLice_button {
      font-size: 20px;
      width: 200px;
      height: 40px;
      background-image: linear-gradient(45deg, #ffffff 0%, #69fe05 100%);
      color: rgb(255, 255, 255);
      border-radius: 16px;
      cursor: pointer;
      box-shadow: 2px 2px 2px rgb(102, 113, 102);
    }

    .aLice_button:hover {
      background-image: linear-gradient(45deg, #ffffff7f 0%, #ffffff7f 100%);
    }

    #date {
      font-family: 'Orbitron', sans-serif;
      font-size: 20px;
      color: #03a83a;
      text-shadow: 0 0 20px #0aafe6;
      line-height: 1.2;
    }

    #clock {
      font-family: 'Orbitron', sans-serif;
      font-size: 50px;
      color: #855DF7;
      text-shadow: 0 0 20px #0aafe6;
      line-height: 1.2;
      width: 200px;
      /* æ™‚è¨ˆã®å¹…å›ºå®š */
      margin: 0px 30px 0px 0px;
      text-align: center;
    }

    .chain_height {
      font-family: 'Orbitron', sans-serif;
      font-size: 30px;
      color: #03a83a;
      text-shadow: 0 0 20px #0aafe6;
      line-height: 1.2;
    }

    .finalized_height {
      font-family: 'Orbitron', sans-serif;
      font-size: 30px;
      color: #6D77F6;
      text-shadow: 0 0 20px #0aafe6;
      line-height: 1.2;
    }
  </style>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"></script>
</head>

<body>
  <h1>SYMBOL</h1>
  <br>
  <div id="date"></div>
  <div id="clock"></div>
  <br>
  <button class="aLice_button"><a href="https://play.google.com/store/apps/details?id=com.pine.alice&pli=1"> aLice for
      Android</a></button>
  <button class="aLice_button"><a href="https://apps.apple.com/us/app/alice-sign/id6449146041">aLice for
      iOS</a></button>
  <button class="aLice_button"><a href="https://note.com/nononon_symbol/n/n87e8ef3f89e0"
      target="_blank">ä½¿ã„æ–¹</a></button>
  <br>
  <br>
  <br>
  <h2 style="text-align:left">Peer Node List (Main Net)</h2>
  <div
    style="font-family: 'Orbitron', sans-serif; font-size: 15px;color: #03a83a;text-shadow: 0 0 20px #0aafe6;line-height: 1.2;">
    Chain Height</div>
  <br>
  <div id="chain_height_M" class="chain_height"></div>
  <br>
  <div
    style="font-family: 'Orbitron', sans-serif; font-size: 15px;color: #6D77F6;text-shadow: 0 0 20px #0aafe6;line-height: 1.2;">
    Finalized Height</div>
  <br>
  <div id="finalized_height_M" class="finalized_height"></div>
  <br>

  <table id="data-table">
    <thead>
      <tr>
        <th class="col-1">#</th>
        <th class="col-2">FriendlyName</th>
        <th class="col-3">Host</th>
        <th class="col-4">Host Detail</th>
        <th class="col-5">Version</th>
        <th class="col-6">PublicKey</th>
      </tr>
    </thead>
    <tbody>
      <!-- è¡¨ãƒ‡ãƒ¼ã‚¿ã¯ã“ã“ã«æŒ¿å…¥ã•ã‚Œã¾ã™ -->
    </tbody>
  </table>
  <br>
  <br>
  <h2 style="text-align:left">Peer Node List (Test Net)</h2>

  <div
    style="font-family: 'Orbitron', sans-serif; font-size: 15px;color: #03a83a;text-shadow: 0 0 20px #0aafe6;line-height: 1.2;">
    Chain Height</div>
  <br>
  <div id="chain_height_T" class="chain_height"></div>
  <br>
  <div
    style="font-family: 'Orbitron', sans-serif; font-size: 15px;color: #6D77F6;text-shadow: 0 0 20px #0aafe6;line-height: 1.2;">
    Finalized Height</div>
  <br>
  <div id="finalized_height_T" class="finalized_height"></div>
  <br>

  <table id="data-table2">
    <thead>
      <tr>
        <th class="col-1">#</th>
        <th class="col-2">FriendlyName</th>
        <th class="col-3">Host</th>
        <th class="col-4">Host Detail</th>
        <th class="col-5">Version</th>
        <th class="col-6">PublicKey</th>
      </tr>
    </thead>
    <tbody>
      <!-- è¡¨ãƒ‡ãƒ¼ã‚¿ã¯ã“ã“ã«æŒ¿å…¥ã•ã‚Œã¾ã™ -->
    </tbody>
  </table>

  <script type="text/javascript" src="https://xembook.github.io/nem2-browserify/symbol-sdk-pack-2.0.4.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>
  <script>
    //const NODE = 'https://mikun-testnet.tk:3001'
    //const sym = require('/node_modules/symbol-sdk');
    //const repo = new sym.RepositoryFactoryHttp(NODE);
    //const accountRepo = repo.createAccountRepository();

    let URL = 'https://symbol.services/nodes'  // mainnet

    // fetch()ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
    fetch(URL)
      .then((response) => {
        // ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒæˆåŠŸã—ãŸã‹ã©ã†ã‹ã‚’ç¢ºèª
        if (!response.ok) {
          throw new Error(`Network response was not ok: ${response.status}`);
        }
        // JSONãƒ‡ãƒ¼ã‚¿ã‚’è§£æã—ã¦è¿”ã™
        return response.json();
      })
      .then((data) => {
        // rolesãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒ1ã®è¦ç´ ã®ã¿ã‚’æŠ½å‡º
        const filteredData = data.filter((item) => item.roles === 1);

        console.log("filterData==", filteredData)

        // ãƒ†ãƒ¼ãƒ–ãƒ«ã®tbodyè¦ç´ ã‚’å–å¾—
        const tbody = document.querySelector('#data-table tbody');

        // é€šã—ç•ªå·ç”¨ã®å¤‰æ•°
        let rowNum = 0;
        let NET_Type;

        // æŠ½å‡ºã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ã«æŒ¿å…¥
        filteredData.forEach((item) => {
          if (item.hostDetail) {

            if (item.version === 16777989) {
              rowNum++; // é€šã—ç•ªå·ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ      
              const row = document.createElement('tr');
              row.innerHTML = `
              <td class="row-number"><a href="#" onclick="Num_Click('${item.friendlyName}', '${item.host}', '${item.hostDetail ? item.hostDetail.location : ''}', '${item.version}', '${item.publicKey}', 'MainNet');">${rowNum}</a></td>
              <td>${item.friendlyName}</td>
              <td>${item.host}</td>
              <td>${item.hostDetail.location}</td>
              <td>${item.version}</td>
              <td>${item.publicKey}</td>
            `;
              tbody.appendChild(row);
            }
            if (item.version === 16777990) {
              rowNum++; // é€šã—ç•ªå·ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ      
              const row = document.createElement('tr');
              row.innerHTML = `
              <td class="row-number"><a href="#" onclick="Num_Click('${item.friendlyName}', '${item.host}', '${item.hostDetail ? item.hostDetail.location : ''}', '${item.version}', '${item.publicKey}', 'MainNet');">${rowNum}</a></td>
              <td>${item.friendlyName}</td>
              <td>${item.host}</td>
              <td>${item.hostDetail.location}</td>
              <td>${item.version}</td>
              <td>${item.publicKey}</td>
            `;
              tbody.appendChild(row);
            }
          } else {
            if (item.version === 16777989) {
              rowNum++; // é€šã—ç•ªå·ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
              const row = document.createElement('tr');
              row.innerHTML = `
              <td class="row-number"><a href="#" onclick="Num_Click('${item.friendlyName}', '${item.host}', 'Mobile ğŸ“±', '${item.version}', '${item.publicKey}', 'MainNet');">${rowNum}</a></td>
              <td>${item.friendlyName}</td>
              <td>${item.host}</td>
              <td>Mobile ğŸ“±</td>
              <td>${item.version}</td>
              <td>${item.publicKey}</td>
            `;
              tbody.appendChild(row);
            }
            if (item.version === 16777990) {
              rowNum++; // é€šã—ç•ªå·ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
              const row = document.createElement('tr');
              row.innerHTML = `
              <td class="row-number"><a href="#" onclick="Num_Click('${item.friendlyName}', '${item.host}', '${item.hostDetail ? item.hostDetail.location : ''}', '${item.version}', '${item.publicKey}', 'MainNet');">${rowNum}</a></td>
              <td>${item.friendlyName}</td>
              <td>${item.host}</td>
              <td></td>
              <td>${item.version}</td>
              <td>${item.publicKey}</td>
            `;
              tbody.appendChild(row);
            }

          }

          // ç‰¹å®šã®åˆ—ã®ç‰¹å®šã®æ•°å­—ã®èƒŒæ™¯è‰²ã‚’å¤‰æ›´
          const cells = document.querySelectorAll('tbody td:nth-child(5)'); // Roleåˆ—ã‚’é¸æŠ

          cells.forEach((cell) => {
            if (cell.textContent === '16777989') { // æ¡ä»¶ã‚’ç¢ºèª
              cell.style.backgroundColor = 'aquamarine'; // èƒŒæ™¯è‰²ã‚’å¤‰æ›´  
            }
            if (cell.textContent === '16777990') { // æ¡ä»¶ã‚’ç¢ºèª
              cell.style.backgroundColor = 'skyblue'; // èƒŒæ™¯è‰²ã‚’å¤‰æ›´  
            }
          });
        });
      })
      .catch((error) => {
        // ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¡¨ç¤º
        console.error("Fetch error:", error);
      });

    ////////////////////////////////////////////////////////////////////////

    URL = 'https://2.dusanjp.com:3004/nodes'   // testnet
    // URL = 'https://testnet.symbol.services/nodes'   // testnet


    // fetch()ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
    fetch(URL)
      .then((response) => {
        // ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒæˆåŠŸã—ãŸã‹ã©ã†ã‹ã‚’ç¢ºèª
        if (!response.ok) {
          throw new Error(`Network response was not ok: ${response.status}`);
        }
        // JSONãƒ‡ãƒ¼ã‚¿ã‚’è§£æã—ã¦è¿”ã™
        return response.json();
      })
      .then((data) => {
        // rolesãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒ1ã®è¦ç´ ã®ã¿ã‚’æŠ½å‡º
        const filteredData = data.filter((item) => item.roles === 1);

        // ãƒ†ãƒ¼ãƒ–ãƒ«ã®tbodyè¦ç´ ã‚’å–å¾—
        const tbody = document.querySelector('#data-table2 tbody');

        // é€šã—ç•ªå·ç”¨ã®å¤‰æ•°
        let rowNum = 0;

        // æŠ½å‡ºã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ã«æŒ¿å…¥
        filteredData.forEach((item) => {
          if (item.hostDetail) {
            if (item.version === 16777989) {
              rowNum++; // é€šã—ç•ªå·ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ      
              const row = document.createElement('tr');
              row.innerHTML = `
              <td class="row-number"><a href="#" onclick="Num_Click('${item.friendlyName}', '${item.host}', '${item.hostDetail ? item.hostDetail.location : ''}', '${item.version}', '${item.publicKey}', 'TestNet');">${rowNum}</a></td>
              <td>${item.friendlyName}</td>
              <td>${item.host}</td>
              <td>${item.hostDetail.location}</td>
              <td>${item.version}</td>
              <td>${item.publicKey}</td>
            `;
              tbody.appendChild(row);
            }
            if (item.version === 16777990) {
              rowNum++; // é€šã—ç•ªå·ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ      
              const row = document.createElement('tr');
              row.innerHTML = `
              <td class="row-number"><a href="#" onclick="Num_Click('${item.friendlyName}', '${item.host}', '${item.hostDetail ? item.hostDetail.location : ''}', '${item.version}', '${item.publicKey}', 'TestNet');">${rowNum}</a></td>
              <td>${item.friendlyName}</td>
              <td>${item.host}</td>
              <td>${item.hostDetail.location}</td>
              <td>${item.version}</td>
              <td>${item.publicKey}</td>
            `;
              tbody.appendChild(row);
            }
          } else {
            if (item.version === 16777989) {
              rowNum++; // é€šã—ç•ªå·ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
              const row = document.createElement('tr');
              row.innerHTML = `
              <td class="row-number"><a href="#" onclick="Num_Click('${item.friendlyName}', '${item.host}', 'Mobile ğŸ“±', '${item.version}', '${item.publicKey}', 'TestNet');">${rowNum}</a></td>
              <td>${item.friendlyName}</td>
              <td>${item.host}</td>
              <td>Mobile ğŸ“±</td>
              <td>${item.version}</td>
              <td>${item.publicKey}</td>
            `;
              tbody.appendChild(row);
            }
            if (item.version === 16777990) {
              rowNum++; // é€šã—ç•ªå·ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
              const row = document.createElement('tr');
              row.innerHTML = `
              <td class="row-number"><a href="#" onclick="Num_Click('${item.friendlyName}', '${item.host}', '${item.hostDetail ? item.hostDetail.location : ''}', '${item.version}', '${item.publicKey}', 'TestNet');">${rowNum}</a></td>
              <td>${item.friendlyName}</td>
              <td>${item.host}</td>
              <td></td>
              <td>${item.version}</td>
              <td>${item.publicKey}</td>
            `;
              tbody.appendChild(row);
            }

          }

          // ç‰¹å®šã®åˆ—ã®ç‰¹å®šã®æ•°å­—ã®èƒŒæ™¯è‰²ã‚’å¤‰æ›´
          const cells = document.querySelectorAll('tbody td:nth-child(5)'); // Roleåˆ—ã‚’é¸æŠ

          cells.forEach((cell) => {
            if (cell.textContent === '16777989') { // æ¡ä»¶ã‚’ç¢ºèª
              cell.style.backgroundColor = 'aquamarine'; // èƒŒæ™¯è‰²ã‚’å¤‰æ›´  
            }
            if (cell.textContent === '16777990') { // æ¡ä»¶ã‚’ç¢ºèª
              cell.style.backgroundColor = "skyblue"; // èƒŒæ™¯è‰²ã‚’å¤‰æ›´  
            }
          });
        });
      })
      .catch((error) => {
        // ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¡¨ç¤º
        console.error("Fetch error:", error);
      });

    function Num_Click(friendlyName, host, hostDetail, version, node_publicKey, NET_Type) {
      const arrayBuffer = new TextEncoder().encode(`https://ventus-wallet.tk/peernode/delegate.html?friendlyName=${encodeURIComponent(friendlyName)}&host=${encodeURIComponent(host)}&hostDetail=${encodeURIComponent(hostDetail)}&version=${encodeURIComponent(version)}&node_publicKey=${encodeURIComponent(node_publicKey)}&NET_Type=${encodeURIComponent(NET_Type)}`);
      const callback = Array.from(new Uint8Array(arrayBuffer), byte => byte.toString(16).padStart(2, '0')).join('').toUpperCase();
      const encodedUrl = `alice://sign?type=request_pubkey&callback=${callback}`;
      window.location.href = encodedUrl;
    }

    ////////////////////////////////// chain height   Finalize height < MainNet > ////////////////////

    const sym = require('/node_modules/symbol-sdk');
    let URL_M;
    let NODE_M;

    // ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®URL
    const endpointUrl_M = "https://symbol.services/nodes?filter=suggested&limit=3&ssl=true";

    // fetch()ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
    fetch(endpointUrl_M)
      .then((response) => {
        // ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒæˆåŠŸã—ãŸã‹ã©ã†ã‹ã‚’ç¢ºèª
        if (!response.ok) {
          throw new Error(`Network response was not ok: ${response.status}`);
        }
        // JSONãƒ‡ãƒ¼ã‚¿ã‚’è§£æã—ã¦è¿”ã™
        return response.json();
      })
      .then((data) => {
        // JSONãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¡¨ç¤º

        //console.log(data[0].host);
        URL_M = data[0].host;
        NODE_M = `https://${URL_M}:3001`

        const chainHttp = new sym.ChainHttp(NODE_M);
        const nodeHttp = new sym.NodeHttp(NODE_M);

        nodeHttp.getNodeInfo().subscribe(x => {
          $("#node_host").text(`ğŸ–¥ï¸ ${x.host} ğŸ–¥ï¸`);
          console.log("x.hostã€€", x.host.toString());
        });

        function updateData() {
          chainHttp.getChainInfo().subscribe(x => {
            $("#chain_height_M").text(`â›“ï¸ ${x.height} â›“ï¸`);
            //console.log("x.height", x.height.toString());

            $("#finalized_height_M").text(`ğŸ”’ ${x.latestFinalizedBlock.height} ğŸ”’`);
          });

        }

        // æœ€åˆã®å®Ÿè¡Œ
        updateData();

        // 1ç§’ã”ã¨ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°
        setInterval(updateData, 1000);

      })
      .catch((error) => {
        console.error("Fetch error:", error);
      });


    ////////////////////////////////// chain height   Finalize height < TestNet > ////////////////////

    //const sym = require('/node_modules/symbol-sdk');
    let URL_T;
    let NODE_T;

    // ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®URL
    const endpointUrl_T = "https://testnet.symbol.services/nodes?filter=suggested&limit=3&ssl=true";

    // fetch()ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
    fetch(endpointUrl_T)
      .then((response) => {
        // ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒæˆåŠŸã—ãŸã‹ã©ã†ã‹ã‚’ç¢ºèª
        if (!response.ok) {
          throw new Error(`Network response was not ok: ${response.status}`);
        }
        // JSONãƒ‡ãƒ¼ã‚¿ã‚’è§£æã—ã¦è¿”ã™
        return response.json();
      })
      .then((data) => {
        // JSONãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¡¨ç¤º

        //console.log(data[0].host);
        URL_T = data[0].host;
        NODE_T = `https://${URL_T}:3001`

        const chainHttp = new sym.ChainHttp(NODE_T);
        const nodeHttp = new sym.NodeHttp(NODE_T);

        nodeHttp.getNodeInfo().subscribe(x => {
          $("#node_host").text(`ğŸ–¥ï¸ ${x.host} ğŸ–¥ï¸`);
          console.log("x.hostã€€", x.host.toString());
        });

        function updateData() {
          chainHttp.getChainInfo().subscribe(x => {
            $("#chain_height_T").text(`â›“ï¸ ${x.height} â›“ï¸`);
           //console.log("x.height", x.height.toString());

            $("#finalized_height_T").text(`ğŸ”’ ${x.latestFinalizedBlock.height} ğŸ”’`);
          });

        }

        // æœ€åˆã®å®Ÿè¡Œ
        updateData();

        // 1ç§’ã”ã¨ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°
        setInterval(updateData, 1000);

      })
      .catch((error) => {
        console.error("Fetch error:", error);
      });

    function updateClock() {
      var now = new Date();
      var hours = now.getHours().toString().padStart(2, "0");
      var minutes = now.getMinutes().toString().padStart(2, "0");
      var seconds = now.getSeconds().toString().padStart(2, "0");
      var timeString = hours + ":" + minutes + ":" + seconds;

      document.getElementById("clock").textContent = timeString;

      var year = now.getFullYear();
      var month = (now.getMonth() + 1).toString().padStart(2, "0");
      var day = now.getDate().toString().padStart(2, "0");
      var daysOfWeek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
      var dayOfWeek = daysOfWeek[now.getDay()]; // æ›œæ—¥ã®çŸ­ç¸®è¡¨è¨˜

      var dateString = year + "-" + month + "-" + day + " / " + dayOfWeek;

      document.getElementById("date").textContent = dateString;
    }

    // åˆå›ã®è¡¨ç¤º
    updateClock();

    // 1ç§’ã”ã¨ã«æ›´æ–°
    setInterval(updateClock, 1000);

  </script>
</body>

</html>